{% extends '::base.html.twig' %}

{% block body %}

    <a href="{{ path('wcs_gesty_ecoles') }}" class="btn__retour">Retour</a>

    <div class="table-responsive">
        <table class="table">

            <tr>
                <td colspan="5">Enfants inscrits</td>
            </tr>

            <tr>
                <td>Présence</td>
                <td>Nom</td>
                <td>Prénom</td>
                <td>Allergie(s)</td>
                <td>Régime sans porc</td>
            </tr>

            {% for eleve in aujourdhui %}
                <tr>
                    <td><input type="checkbox" class="eleve" name="eleve" value="{{ eleve.nom }}'-'{{ eleve.prenom }}'-'{{ eleve.dates }}" /></td>
                    <td>{{ eleve.nom }}</td>
                    <td>{{ eleve.prenom }}</td>
                    <td>{{ eleve.allergie }}</td>
                    <td>{{ eleve.regimeSansPorc }}</td>
                </tr>
            {% endfor %}

        </table>
    </div>

    <div class="test"></div>
    <div class="total"></div>

    {% block javascripts %}
        <script src="{{ asset('bundles/wcscantine/js/jquery.min.js') }}"></script>
        <script src="{{ asset('bundles/wcscantine/js/bootstrap.min.js') }}"></script>
    {% endblock %}
    <script>
        var totalCheckboxes = $('input:checkbox');
        var totalEleves = totalCheckboxes.length;
        window.onload = function () {
            $(".test")[0].innerHTML = totalEleves;
        };
        $( ".eleve" ).click(function() {
            var countCheckedCheckboxes = $('input:checkbox:checked').length;
            $(".total")[0].innerHTML = countCheckedCheckboxes;
        });
    </script>

{% endblock %}




